# Mobile Wallet Project

## Steps to Set Up:

1. Make sure you got a MySql environment, otherwise you can config it with docker (Steps can be found in mysqlSetup.sh).

2. Simply run :

    ```shell
    go build main.go
    go run main.go
    ```

   The application will run with listening port 8080.

## Generate Test Report

You can generate a test report with the script called `run_tests.sh`

The script will output the report as a file called `coverage.out`



## API Document

All APIs are generated by swagger (see in swagger-template folder)

`swagger_codegen.sh` will generate all models needed.

## Assumptions

1. Users only use one kind currency (SGP)
2. The scale of transaction is relatively low.
3. We do not consider situation of modifying a transaction when it is in progress.
4. User token is needed to generated by a third-party application (such as Gateway IAM). The Gateway's IAM can wrap each user's identity info as a JWT token and set it in the header. In this project, I roughly expose a public key API to the front-end and ask front-end to encrypt the password and pass it to me and I will decrypt with a private key in back-end when I need to use the password.
5. Currently I skip the encrypt and decrypt logic for password.



## Thoughts of Monitoring

1. Set up Promethues and Grafana.
2. Define metrics or use metrics provided by Promethues.
3. Define service monitor in k8s cluster. (service, ingress...).
4. View on Grafana.



## Improvements

1. More corner cases needed to be considered.
2. Need to generate CI/CD.
3. Need to error handler and logs.
4. Docker/k8s deployment.
5. Need to optimize the service depending on the scale of request.